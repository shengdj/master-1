<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>用户登录</title>
    <style>
        /* 这里是页面的 CSS 样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: Arial, sans-serif;
            display: flex;
            height: 100vh;
            background-color: #f4f4f4;
            transition: margin-left 0.3s;
        }
        .sidebar {
            width: 25%;
            background-color: #333;
            color: white;
            padding: 20px;
            height: 100%;
            position: fixed;
            left: 0;
            transition: width 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }
        .sidebar h2 {
            margin-bottom: 20px;
            text-align: center;
        }
        .sidebar .menu-item {
            background-color: #444;
            padding: 10px;
            margin: 8px 0;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            position: relative;
        }
        .sidebar .menu-item:hover,
        .sidebar .menu-item.active {
            background-color: #007BFF; /* 高亮显示选中的菜单项 */
        }
        .submenu {
            display: none;
            text-align: center;
            margin-top: 5px;
        }
        .submenu .submenu-item {
            background-color: #555;
            padding: 10px;
            margin: 5px auto;
            width: 80%;
            border-radius: 5px;
            cursor: pointer;
        }
        .submenu .submenu-item:hover {
            background-color: #007BFF;
        }
        .content {
            margin-left: 25%;
            width: 75%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: url('https://www.cug.edu.cn/__local/4/21/4C/D8C34A0CB28A07DB0CB5BBA9D8B_4E4D3DB9_2EA84.jpg');
            background-size: cover;
            background-position: center;
            transition: margin-left 0.3s, width 0.3s;
        }
        .content-text {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .content-text h1 {
            margin-bottom: 20px;
        }
        .toggle-btn {
            position: absolute;
            top: 50%;
            left: 100%;
            transform: translateY(-50%);
            background-color: #333;
            color: white;
            border: none;
            padding: 15px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 20px;
        }
        .jump-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            padding: 5px 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <!-- 左侧菜单栏 -->
    <div class="sidebar">
        <button class="toggle-btn" onclick="toggleSidebar()">☰</button>
        <h2>导航菜单</h2>
        <div id="menu1" class="menu-item" onclick="toggleSubmenu('submenu1')">
            用户登录
            <button class="jump-btn" onclick="redirectToPage('page1.html')">跳转</button>
        </div>
        <div id="submenu1" class="submenu">
            <div class="submenu-item" onclick="redirectToPage('register.html')">用户注册</div>
            <div class="submenu-item" onclick="redirectToPage('user-edit.html')">用户修改</div>
            <div class="submenu-item" onclick="redirectToPage('xiugai.html')">权限设置</div>
        </div>
        
        <div id="menu2" class="menu-item" onclick="toggleSubmenu('submenu2')">
            数据管理
            <button class="jump-btn" onclick="redirectToPage('page2.html')">跳转</button>
        </div>
        <div id="submenu2" class="submenu">
            <div class="submenu-item" onclick="redirectToPage('page8.html')">数据查询</div>
            <div class="submenu-item" onclick="redirectToPage('page9.html')">数据更改</div>
            <div class="submenu-item" onclick="redirectToPage('page10.html')">数据上传</div>
            <div class="submenu-item" onclick="redirectToPage('page11.html')">数据检测</div>
        </div>

        <div id="menu3" class="menu-item" onclick="toggleSubmenu('submenu3')">
            数据分析
            <button class="jump-btn" onclick="redirectToPage('page3.html')">跳转</button>
        </div>
        <div id="submenu3" class="submenu">
            <div class="submenu-item" onclick="redirectToPage('page12.html')">数据处理</div>
            <div class="submenu-item" onclick="redirectToPage('page13.html')">特征分析</div>
            <div class="submenu-item" onclick="redirectToPage('section_analysis.html')">区段分析</div>
        </div>

        <div id="menu4" class="menu-item" onclick="toggleSubmenu('submenu4')">
            操作日志
            <button class="jump-btn" onclick="redirectToPage('page4.html')">跳转</button>
        </div>
        <div id="submenu4" class="submenu">
            <div class="submenu-item" onclick="redirectToPage('page16.html')">日志记录</div>
        </div>
    </div>

    <!-- 右侧内容区 -->
    <div class="content">
        <div class="content-text">
            <h1>欢迎进入系统 - 用户登录</h1>
            <p>这里是系统的用户登录界面。</p>
        </div>
    </div>

    <script>
        // 跳转至新页面
        function redirectToPage(page) {
            window.location.href = page;
        }

        // 控制侧边栏的显示和隐藏
        function toggleSidebar() {
            var sidebar = document.querySelector('.sidebar');
            var content = document.querySelector('.content');
            var toggleButton = document.querySelector('.toggle-btn');

            if (sidebar.style.width === "0px" || sidebar.style.width === "") {
                sidebar.style.width = "25%";
                content.style.marginLeft = "25%";
                content.style.width = "75%";
                toggleButton.innerHTML = "☰";
            } else {
                sidebar.style.width = "0";
                content.style.marginLeft = "0";
                content.style.width = "100%";
                toggleButton.innerHTML = "▶";
            }
        }

        // 控制子菜单的显示和隐藏
        function toggleSubmenu(submenuId) {
            var submenu = document.getElementById(submenuId);
            submenu.style.display = (submenu.style.display === 'block') ? 'none' : 'block';
        }

        // 页面加载后，确保高亮菜单项
        window.onload = function() {
            const currentPage = window.location.pathname; // 获取当前页面路径
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                const targetPage = item.querySelector('button').onclick.toString().match(/'([^']+)'/)[1];
                if (currentPage.includes(targetPage)) {
                    item.classList.add('active'); // 给当前菜单项添加高亮
                } else {
                    item.classList.remove('active'); // 移除非当前项的高亮
                }
            });
        };
    </script>

</body>
</html>
